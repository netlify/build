# Changelog

## [6.2.0](https://www.github.com/netlify/build/compare/config-v6.1.0...config-v6.2.0) (2021-04-23)


### Features

* improve context-specific configuration validation ([#2648](https://www.github.com/netlify/build/issues/2648)) ([e5059f9](https://www.github.com/netlify/build/commit/e5059f999488e9833c129f4a26d10811e7541878))

## [6.1.0](https://www.github.com/netlify/build/compare/config-v6.0.3...config-v6.1.0) (2021-04-23)


### Features

* validate all contexts in configuration ([#2641](https://www.github.com/netlify/build/issues/2641)) ([447f21e](https://www.github.com/netlify/build/commit/447f21ed87079ef4b12a96e67ca55b4f2ba544b3))

### [6.0.3](https://www.github.com/netlify/build/compare/config-v6.0.2...config-v6.0.3) (2021-04-23)


### Bug Fixes

* support `main` branch in `@netlify/config` ([#2639](https://www.github.com/netlify/build/issues/2639)) ([7728c60](https://www.github.com/netlify/build/commit/7728c60aed1e7c3bf0bb7a95aeef8b6686ca7478))

### [6.0.2](https://www.github.com/netlify/build/compare/config-v6.0.1...config-v6.0.2) (2021-04-20)


### Bug Fixes

* **deps:** update netlify packages ([#2622](https://www.github.com/netlify/build/issues/2622)) ([4d35de4](https://www.github.com/netlify/build/commit/4d35de4d4d8d49b460080480c6e5b3610e6ef023))

### [6.0.1](https://www.github.com/netlify/build/compare/config-v6.0.0...config-v6.0.1) (2021-04-14)


### Bug Fixes

* **deps:** update dependency netlify to ^6.1.18 ([#2602](https://www.github.com/netlify/build/issues/2602)) ([c36356d](https://www.github.com/netlify/build/commit/c36356de80c4a19fb8ee808f074c9c9e827ebc07))

## [6.0.0](https://www.github.com/netlify/build/compare/config-v5.12.0...config-v6.0.0) (2021-04-14)


### ⚠ BREAKING CHANGES

* simplify `inlineConfig`, `defaultConfig` and `cachedConfig` CLI flags (#2595)

### Features

* simplify `inlineConfig`, `defaultConfig` and `cachedConfig` CLI flags ([#2595](https://www.github.com/netlify/build/issues/2595)) ([c272632](https://www.github.com/netlify/build/commit/c272632db8825f85c07bb05cd90eacb1c8ea2544))

## [5.12.0](https://www.github.com/netlify/build/compare/config-v5.11.1...config-v5.12.0) (2021-04-12)


### Features

* deep merge context-specific plugin config ([#2572](https://www.github.com/netlify/build/issues/2572)) ([0a29162](https://www.github.com/netlify/build/commit/0a2916234a14ef0f99f093c8c5cdde0727d0f09f))

### [5.11.1](https://www.github.com/netlify/build/compare/config-v5.11.0...config-v5.11.1) (2021-04-12)


### Bug Fixes

* **deps:** update dependency netlify to ^6.1.17 ([#2589](https://www.github.com/netlify/build/issues/2589)) ([925a1c4](https://www.github.com/netlify/build/commit/925a1c4613be2d96142caecda9dd452a0fd4f951))

## [5.11.0](https://www.github.com/netlify/build/compare/config-v5.10.0...config-v5.11.0) (2021-04-09)


### Features

* add a test related to context-specific plugins config ([#2570](https://www.github.com/netlify/build/issues/2570)) ([cb23b93](https://www.github.com/netlify/build/commit/cb23b938c32775ff852ce815bc3622b9c0cfcf5a))

## [5.10.0](https://www.github.com/netlify/build/compare/config-v5.9.0...config-v5.10.0) (2021-04-09)


### Features

* allow context-specific plugins configuration ([#2567](https://www.github.com/netlify/build/issues/2567)) ([dc3b462](https://www.github.com/netlify/build/commit/dc3b46223fe2d965d6a8fb479e41f65bc7c89478))

## [5.9.0](https://www.github.com/netlify/build/compare/config-v5.8.0...config-v5.9.0) (2021-04-08)


### Features

* move validation related to duplicated plugins configuration ([#2566](https://www.github.com/netlify/build/issues/2566)) ([df2e5d5](https://www.github.com/netlify/build/commit/df2e5d563397b90ec79982f264c851e9bd21b2c4))

## [5.8.0](https://www.github.com/netlify/build/compare/config-v5.7.0...config-v5.8.0) (2021-04-08)


### Features

* refactor configuration merge logic ([#2564](https://www.github.com/netlify/build/issues/2564)) ([06ea3fd](https://www.github.com/netlify/build/commit/06ea3fd438c25f8f372b4a111119e116f7d90f6d))

## [5.7.0](https://www.github.com/netlify/build/compare/config-v5.6.0...config-v5.7.0) (2021-04-08)


### Features

* refactor configuration merge logic ([#2561](https://www.github.com/netlify/build/issues/2561)) ([839d400](https://www.github.com/netlify/build/commit/839d4008dd3d515785bdff12174910902d242709))
* refactors how plugins configurations are currently merged ([#2562](https://www.github.com/netlify/build/issues/2562)) ([7276576](https://www.github.com/netlify/build/commit/7276576020d9bf133f1e50666a614c10e980be3b))

## [5.6.0](https://www.github.com/netlify/build/compare/config-v5.5.1...config-v5.6.0) (2021-04-08)


### Features

* improve how context-specific config are merged ([#2555](https://www.github.com/netlify/build/issues/2555)) ([a642a9d](https://www.github.com/netlify/build/commit/a642a9d36f24dc5c93e43304858007c524035b71))

### [5.5.1](https://www.github.com/netlify/build/compare/config-v5.5.0...config-v5.5.1) (2021-04-07)


### Bug Fixes

* context properties should not unset plugins ([#2558](https://www.github.com/netlify/build/issues/2558)) ([32be1bb](https://www.github.com/netlify/build/commit/32be1bb7d052d8e4a0b9bcbf9d5d0dbd428a8535))

## [5.5.0](https://www.github.com/netlify/build/compare/config-v5.4.0...config-v5.5.0) (2021-04-07)


### Features

* validate `context.{context}.*` properties ([#2551](https://www.github.com/netlify/build/issues/2551)) ([4559349](https://www.github.com/netlify/build/commit/45593491b6a053c0d256a169d4ff998187c533e9))

## [5.4.0](https://www.github.com/netlify/build/compare/config-v5.3.1...config-v5.4.0) (2021-04-07)


### Features

* refactor configuration property origins ([#2549](https://www.github.com/netlify/build/issues/2549)) ([b1d7c66](https://www.github.com/netlify/build/commit/b1d7c6623a16a62941ddd2f3d406657c4206b096))

### [5.3.1](https://www.github.com/netlify/build/compare/config-v5.3.0...config-v5.3.1) (2021-04-07)


### Bug Fixes

* improve config normalization logic ([#2547](https://www.github.com/netlify/build/issues/2547)) ([7945e0a](https://www.github.com/netlify/build/commit/7945e0ab496f48da006392646cf0512f6a564348))

## [5.3.0](https://www.github.com/netlify/build/compare/config-v5.2.0...config-v5.3.0) (2021-04-07)


### Features

* refactor how origin is added to context-specific configs ([#2545](https://www.github.com/netlify/build/issues/2545)) ([c3f45b2](https://www.github.com/netlify/build/commit/c3f45b288544200a6408a9af7bdfb955d45ebb81))

## [5.2.0](https://www.github.com/netlify/build/compare/config-v5.1.1...config-v5.2.0) (2021-04-07)


### Features

* refactor plugins[*].origin ([#2540](https://www.github.com/netlify/build/issues/2540)) ([43ad104](https://www.github.com/netlify/build/commit/43ad104928d707b864a6e667270d783ae4e5cbac))

### [5.1.1](https://www.github.com/netlify/build/compare/config-v5.1.0...config-v5.1.1) (2021-04-06)


### Bug Fixes

* validate build.command even when not used due to config merge ([#2541](https://www.github.com/netlify/build/issues/2541)) ([95c8e70](https://www.github.com/netlify/build/commit/95c8e7088c8956b34535548da4b2c7a3014ff37d))

## [5.1.0](https://www.github.com/netlify/build/compare/config-v5.0.1...config-v5.1.0) (2021-04-01)


### Features

* add functions config object to build output ([#2518](https://www.github.com/netlify/build/issues/2518)) ([280834c](https://www.github.com/netlify/build/commit/280834c079995ad3c3b5607f983198fba6b3ac13))

### [5.0.1](https://www.github.com/netlify/build/compare/config-v5.0.0...config-v5.0.1) (2021-04-01)


### Bug Fixes

* reinstate legacy build.functions property ([#2519](https://www.github.com/netlify/build/issues/2519)) ([488bea6](https://www.github.com/netlify/build/commit/488bea6f6a75aaf7bdd33b9c5d781b49f2316168))

## [5.0.0](https://www.github.com/netlify/build/compare/config-v4.3.0...config-v5.0.0) (2021-03-30)


### ⚠ BREAKING CHANGES

* add functions.directory property (#2496)

### Features

* add functions.directory property ([#2496](https://www.github.com/netlify/build/issues/2496)) ([d72b1d1](https://www.github.com/netlify/build/commit/d72b1d1fb91de3fa23310ed477a6658c5492aed0))

## [4.3.0](https://www.github.com/netlify/build/compare/v4.2.0...v4.3.0) (2021-03-23)


### Features

* add context support to the functions block ([#2447](https://www.github.com/netlify/build/issues/2447)) ([5813826](https://www.github.com/netlify/build/commit/581382662506b01695fcbedadc0ea4b7d19b7efc))

## [4.2.0](https://www.github.com/netlify/build/compare/v4.1.3...v4.2.0) (2021-03-18)


### Features

* add functions configuration API to @netlify/config ([#2390](https://www.github.com/netlify/build/issues/2390)) ([654d32e](https://www.github.com/netlify/build/commit/654d32eb49bea33816b1adde02f13f0843db9cdd))
* add functions.*.node_bundler config property ([#2430](https://www.github.com/netlify/build/issues/2430)) ([72bed60](https://www.github.com/netlify/build/commit/72bed606e4395a42861bf0f78c43eb81bcdcc326))

### [4.1.3](https://www.github.com/netlify/build/compare/v4.1.2...v4.1.3) (2021-03-12)


### Bug Fixes

* **deps:** update dependency netlify to ^6.1.16 ([#2399](https://www.github.com/netlify/build/issues/2399)) ([528d5b9](https://www.github.com/netlify/build/commit/528d5b99e09d38c414bb4daa7c906a72bdd83302))

### [4.1.2](https://www.github.com/netlify/build/compare/v4.1.1...v4.1.2) (2021-03-10)


### Bug Fixes

* **deps:** update dependency netlify to ^6.1.14 ([#2387](https://www.github.com/netlify/build/issues/2387)) ([d5886f1](https://www.github.com/netlify/build/commit/d5886f1537734af0abf06bd59d083ca16d6b49a5))

### [4.1.1](https://www.github.com/netlify/build/compare/v4.1.0...v4.1.1) (2021-03-09)


### Bug Fixes

* fix `host` option in `@netlify/config` ([#2379](https://www.github.com/netlify/build/issues/2379)) ([64d8386](https://www.github.com/netlify/build/commit/64d8386daf5f1f069ea95fb655a593b05f8f8107))

## [4.1.0](https://www.github.com/netlify/build/compare/v4.0.4...v4.1.0) (2021-03-08)


### Features

* allow passing Netlify API host to Netlify API client ([#2288](https://www.github.com/netlify/build/issues/2288)) ([5529b1d](https://www.github.com/netlify/build/commit/5529b1dc92eccb6a932f80b006e83acfa0034413))

### [4.0.4](https://www.github.com/netlify/build/compare/v4.0.3...v4.0.4) (2021-03-04)


### Bug Fixes

* **deps:** update netlify packages ([#2352](https://www.github.com/netlify/build/issues/2352)) ([c45bdc8](https://www.github.com/netlify/build/commit/c45bdc8e6165751b4294993426ff32e366f0c55a))

### [4.0.3](https://www.github.com/netlify/build/compare/v4.0.2...v4.0.3) (2021-03-03)


### Bug Fixes

* **deps:** update dependency netlify to ^6.1.11 ([#2343](https://www.github.com/netlify/build/issues/2343)) ([bafca4e](https://www.github.com/netlify/build/commit/bafca4e8d2d462c1816695483bc1e381cc199b33))

### [4.0.2](https://www.github.com/netlify/build/compare/v4.0.1...v4.0.2) (2021-02-18)


### Bug Fixes

* fix `files` in `package.json` with `npm@7` ([#2278](https://www.github.com/netlify/build/issues/2278)) ([e9df064](https://www.github.com/netlify/build/commit/e9df0645f3083a0bb141c8b5b6e474ed4e27dbe9))

### [4.0.1](https://www.github.com/netlify/build/compare/v4.0.0...v4.0.1) (2021-02-09)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.7 ([#2261](https://www.github.com/netlify/build/issues/2261)) ([607c848](https://www.github.com/netlify/build/commit/607c84868af5db36e18c9a9160b4d5e811c22e3a))

## [4.0.0](https://www.github.com/netlify/build/compare/v3.1.2...v4.0.0) (2021-02-04)


### ⚠ BREAKING CHANGES

* use netlify/functions as the default functions directory (#2188)

### Features

* use netlify/functions as the default functions directory ([#2188](https://www.github.com/netlify/build/issues/2188)) ([84e1e07](https://www.github.com/netlify/build/commit/84e1e075b5efd7ca26ccaf2531511e7737d97f1f))

### [3.1.2](https://www.github.com/netlify/build/compare/v3.1.1...v3.1.2) (2021-02-02)


### Bug Fixes

* add SITE_ID and SITE_NAME env vars to local builds ([#2239](https://www.github.com/netlify/build/issues/2239)) ([113e4d2](https://www.github.com/netlify/build/commit/113e4d2c48e0264e48f391e5a7d219332d012fab))

### [3.1.1](https://www.github.com/netlify/build/compare/v3.1.0...v3.1.1) (2021-01-29)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.5 ([#2225](https://www.github.com/netlify/build/issues/2225)) ([fec5c83](https://www.github.com/netlify/build/commit/fec5c83c12ebf7572aaf8756fdbec6e9fe1e3699))

## [3.1.0](https://www.github.com/netlify/build/compare/v3.0.5...v3.1.0) (2021-01-27)


### Features

* allow override of API URL ([#2190](https://www.github.com/netlify/build/issues/2190)) ([3e1be70](https://www.github.com/netlify/build/commit/3e1be7057ac9f217405b2cbe15f39e1ecd7496e6))

### [3.0.5](https://www.github.com/netlify/build/compare/v3.0.4...v3.0.5) (2021-01-27)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.4 ([#2219](https://www.github.com/netlify/build/issues/2219)) ([3a75574](https://www.github.com/netlify/build/commit/3a7557400d46388aad42250f6d9751f1617f3cd0))

### [3.0.4](https://www.github.com/netlify/build/compare/v3.0.3...v3.0.4) (2021-01-25)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.3 ([#2210](https://www.github.com/netlify/build/issues/2210)) ([b7c2c40](https://www.github.com/netlify/build/commit/b7c2c4049e9037cf855475543b13e33c32ceb4a6))

### [3.0.3](https://www.github.com/netlify/build/compare/v3.0.2...v3.0.3) (2021-01-25)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.1 ([#2200](https://www.github.com/netlify/build/issues/2200)) ([930805e](https://www.github.com/netlify/build/commit/930805ec70cedbb08d58490c038ea9bcd8ecd35f))

### [3.0.2](https://www.github.com/netlify/build/compare/config-v3.0.1...v3.0.2) (2021-01-22)


### Bug Fixes

* **deps:** update dependency netlify to v6.1.0 ([#2194](https://www.github.com/netlify/build/issues/2194)) ([4b39e9c](https://www.github.com/netlify/build/commit/4b39e9c746c3a8cf1753bd66913883f2adff6ed8))
