# Snapshot report for `packages/config/tests/context/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## Context array merge

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "ignore": [␊
            "c",␊
            "d"␊
          ]␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context deep merge

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {␊
            "one": "one",␊
            "two": "two"␊
          }␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "one": "one",␊
          "two": "two"␊
        },␊
        "configFile": {␊
          "one": "one",␊
          "two": "two"␊
        },␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context default value

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context environment variable

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "testContext",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context merge priority

> Snapshot 1

    `{␊
      "branch": "testBranch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTestBranch",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context with branch CLI flag

> Snapshot 1

    `{␊
      "branch": "testBranch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context with branch environment variable

> Snapshot 1

    `{␊
      "branch": "testBranch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context with branch fallback

> Snapshot 1

    `{␊
      "branch": "master",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "master",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "master",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "master",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "master",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context with branch git

> Snapshot 1

    `{␊
      "branch": "testBranch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "testBranch",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "testBranch",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Context with context CLI flag

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "testContext",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`
