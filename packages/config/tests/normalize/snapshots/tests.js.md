# Snapshot report for `packages/config/tests/normalize/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## Add build.commandOrigin config if it came from contexts

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "test",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Add build.commandOrigin config if it came from netlify.toml

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "test",␊
          "commandOrigin": "config",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Add build.commandOrigin ui if it came from defaultConfig

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "test",␊
          "commandOrigin": "ui",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Assign default edge-handlers if build.edge_handlers is not defined

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "edge_handlers": "/file/path",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Assign default functions if build.functions is not defined

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "functions": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Does not add build.commandOrigin config if command is empty

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Does not add build.commandOrigin config if there are none

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Does not assign default edge-handlers if build.edge_handlers is defined

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "edge_handlers": "/file/path",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Does not assign default functions if build.functions is defined

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "functions": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Some properties can be capitalized

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "command": "gulp build",␊
          "commandOrigin": "config",␊
          "edge_handlers": "/file/path",␊
          "environment": {␊
            "TEST": "test"␊
          },␊
          "functions": "/file/path",␊
          "ignore": "doIgnore",␊
          "processing": {␊
            "css": {␊
              "bundle": true␊
            }␊
          },␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "TEST": "test"␊
        },␊
        "configFile": {␊
          "TEST": "test"␊
        },␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Some properties can be capitalized even when merged with contexts

> Snapshot 1

    `{␊
      "branch": "testBranch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "command": "gulp buildTestBranch",␊
          "commandOrigin": "config",␊
          "environment": {␊
            "TEST": "testTestBranch"␊
          },␊
          "functions": "/file/path",␊
          "ignore": "doIgnoreTestBranch",␊
          "processing": {␊
            "css": {␊
              "bundle": false␊
            }␊
          },␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "testContext",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "TEST": "testTestBranch"␊
        },␊
        "configFile": {␊
          "TEST": "testTestBranch"␊
        },␊
        "general": {␊
          "BRANCH": "testBranch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "testContext",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "testBranch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## Some properties can be capitalized even when merged with defaultConfig

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "command": "gulp build",␊
          "commandOrigin": "config",␊
          "edge_handlers": "/file/path",␊
          "environment": {␊
            "TEST": "test"␊
          },␊
          "functions": "/file/path",␊
          "ignore": "doIgnore",␊
          "processing": {␊
            "css": {␊
              "bundle": true␊
            }␊
          },␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "TEST": "test"␊
        },␊
        "configFile": {␊
          "TEST": "test"␊
        },␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`

## build.command empty

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {}␊
    }`
