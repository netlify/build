# Snapshot report for `packages/config/tests/parse/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## Configuration file - netlify.toml

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/toml",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/toml"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/toml/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/toml",␊
      "siteInfo": {}␊
    }`

## Configuration file - parsing error

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/parse_error/netlify.toml:␊
    Could not parse configuration file␊
    Expected "/"", "/external/path", "/external/path"", "/external/path", "/external/path", "/external/path", "/external/path", "/external/path", "/external/path", "/external/path" or any character but end of input found.`

## Configuration file - read permission error

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/read_error/netlify.toml:␊
    Could not read configuration file␊
    EISDIR: illegal operation on a directory, read`

## Redirects - no publish field

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_no_publish",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_no_publish"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "headers": {},␊
            "origin": "/external/path",␊
            "path": "/external/path",␊
            "proxy": false,␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_no_publish",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects field

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_field",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_field"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "headers": {},␊
            "origin": "/external/path",␊
            "path": "/external/path",␊
            "proxy": false,␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_field/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_field",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects field syntax error

> Snapshot 1

    `␊
    Warning: some redirects have syntax errors:␊
    ␊
    Could not parse redirect number 1:␊
      {"from":"/external/path"}␊
    Missing "to" field␊
    ␊
    {␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_field_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_field_error"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_field_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_field_error",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_file",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_file/publish"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "headers": {},␊
            "origin": "/external/path",␊
            "path": "/external/path",␊
            "proxy": false,␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_file/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_file",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file and redirects field

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_both",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_both/publish"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "headers": {},␊
            "origin": "/external/path",␊
            "path": "/external/path",␊
            "proxy": false,␊
            "query": {},␊
            "to": "/external/path"␊
          },␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "headers": {},␊
            "origin": "/external/path",␊
            "path": "/external/path",␊
            "proxy": false,␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_both/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_both",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file syntax error

> Snapshot 1

    `␊
    Warning: some redirects have syntax errors:␊
    ␊
    Could not parse redirect line 1:␊
      /external/path␊
    Missing destination path/URL␊
    ␊
    {␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_file_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "packages/config/tests/parse/fixtures/redirects_file_error/publish"␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_file_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_file_error",␊
      "siteInfo": {}␊
    }`
