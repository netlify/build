# Snapshot report for `tests/parse/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://avajs.dev).

## Configuration file - netlify.toml

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/toml",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/toml",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/toml/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/toml/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/toml/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/toml",␊
      "siteInfo": {}␊
    }`

## Configuration file - read permission error

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/read_error/netlify.toml:␊
    Could not read configuration file␊
    EISDIR: illegal operation on a directory, read`

## Configuration file - parsing error

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/parse_error/netlify.toml:␊
    Could not parse configuration file␊
    Expected "/"", "/U", "//"", "//", "/b", "/f", "/n", "/r", "/t", "/u" or any character but end of input found.`

## Configuration file - valid backslash sequences in TOML should not fail

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/parse_backslash_valid",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "ignore": "test /external/path /" /b /t /n /f /r /u0000 /u0000",␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/parse_backslash_valid",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/parse_backslash_valid/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/parse_backslash_valid/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/parse_backslash_valid/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/parse_backslash_valid",␊
      "siteInfo": {}␊
    }`

## Configuration file - invalid backslash sequences in double quote strings in TOML should fail

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/parse_backslash_double/netlify.toml:␊
    In netlify.toml, the following backslash should be escaped: /q␊
    The following should be used instead: /q`

## Configuration file - trailing backslashes in double quote strings in TOML should fail

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/parse_backslash_trailing_double/netlify.toml:␊
    In netlify.toml, the following backslash should be escaped: /␊
    ␊
    The following should be used instead: /␊
    `

## Configuration file - invalid backslash sequences in multiline double quote strings in TOML should fail

> Snapshot 1

    `When resolving config file packages/config/tests/parse/fixtures/parse_backslash_double_multiline/netlify.toml:␊
    In netlify.toml, the following backslash should be escaped: /q␊
    The following should be used instead: /q`

## Configuration file - trailing backslashes in multiline double quotes strings in TOML should not fail

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline",␊
      "config": {␊
        "build": {␊
          "command": "test",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "ignore": "  trailing backslash test/n",␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/parse_backslash_trailing_double_multiline",␊
      "siteInfo": {}␊
    }`

## Configuration file - invalid backslash sequences in single quote strings in TOML should not fail

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/parse_backslash_single",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "ignore": "test /q test",␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/parse_backslash_single",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/parse_backslash_single/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/parse_backslash_single/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/parse_backslash_single/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/parse_backslash_single",␊
      "siteInfo": {}␊
    }`

## Configuration file - invalid backslash sequences in multiline single quote strings in TOML should not fail

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "ignore": "  test ' /" /"/"/" /q /external/path  test/n",␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/parse_backslash_single_multiline",␊
      "siteInfo": {}␊
    }`

## Configuration file - detecting invalid backslash sequences in TOML does not misinterpret equal signs

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/parse_backslash_equal",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "ignore": "  --test=/"value/" ",␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/parse_backslash_equal",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/parse_backslash_equal/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/parse_backslash_equal/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/parse_backslash_equal/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/parse_backslash_equal",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_file",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_file/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_file/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_file/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_file/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_file",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_field",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_field",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ],␊
        "redirectsOrigin": "config"␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_field/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_field/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_field/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_field",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file and redirects field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_both",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_both/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          },␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          },␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ],␊
        "redirectsOrigin": "config"␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_both/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_both/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_both/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_both",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects file syntax error

> Snapshot 1

    `␊
    Warning: some redirects have syntax errors:␊
    ␊
    Could not parse redirect line 1:␊
      /external/path␊
    Missing destination path/URL␊
    ␊
    Could not parse redirect line 2:␊
      /external/path␊
    Missing destination path/URL␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_file_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_file_error/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_file_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_file_error/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_file_error/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_file_error",␊
      "siteInfo": {}␊
    }`

## Redirects - redirects field syntax error

> Snapshot 1

    `␊
    Warning: some redirects have syntax errors:␊
    ␊
    Could not parse redirect number 1:␊
      {"from":"/external/path"}␊
    Missing "to" field␊
    ␊
    Could not parse redirect number 2:␊
      {"from":"/external/path"}␊
    Missing "to" field␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_field_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_field_error",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ],␊
        "redirectsOrigin": "config"␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_field_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_field_error/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_field_error/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_field_error",␊
      "siteInfo": {}␊
    }`

## Redirects - no publish field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_no_publish",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_no_publish",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ]␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_no_publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_no_publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_no_publish",␊
      "siteInfo": {}␊
    }`

## Redirects - add redirectsOrigin

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/empty",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [],␊
        "redirectsOrigin": "ui"␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/empty/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/empty/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Redirects - log redirectsOrigin in debug mode

> Snapshot 1

    `␊
    > Initial build environment␊
    branch: branch␊
    env:␊
      - NETLIFY_AUTH_TOKEN␊
    featureFlags: []␊
    repositoryRoot: packages/config/tests/parse/fixtures/empty␊
    ␊
    > UI build settings␊
    baseRelDir: true␊
    ␊
    > Resolved build environment␊
    branch: branch␊
    buildDir: packages/config/tests/parse/fixtures/empty␊
    context: production␊
    env:␊
      - DEPLOY_ID␊
      - BUILD_ID␊
      - NETLIFY_LOCAL␊
      - HEAD␊
      - COMMIT_REF␊
      - CACHED_COMMIT_REF␊
      - PULL_REQUEST␊
      - LANG␊
      - LANGUAGE␊
      - LC_ALL␊
      - GATSBY_TELEMETRY_DISABLED␊
      - NEXT_TELEMETRY_DISABLED␊
    ␊
    > Resolved config␊
    build:␊
      publish: packages/config/tests/parse/fixtures/empty␊
      publishOrigin: default␊
    redirectsOrigin: ui␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/empty",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [],␊
        "redirectsOrigin": "ui"␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/empty/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/empty/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Redirects - does not use redirects file when using inlineConfig with identical redirects

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/redirects_file",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/redirects_file/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "plugins": [],␊
        "redirects": [␊
          {␊
            "conditions": {},␊
            "force": false,␊
            "from": "/external/path",␊
            "headers": {},␊
            "query": {},␊
            "to": "/external/path"␊
          }␊
        ],␊
        "redirectsOrigin": "inline"␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/redirects_file/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/redirects_file/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/redirects_file/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/redirects_file",␊
      "siteInfo": {}␊
    }`

## Headers - file

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_file",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_file/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_file/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_file/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_file/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_file",␊
      "siteInfo": {}␊
    }`

## Headers - field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_field",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_field",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "headersOrigin": "config",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_field/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_field/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_field/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_field",␊
      "siteInfo": {}␊
    }`

## Headers - file and field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_both",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_both/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one",␊
              "testThree": "three"␊
            }␊
          },␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "override",␊
              "testTwo": "two"␊
            }␊
          },␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "testFour": "four"␊
            }␊
          }␊
        ],␊
        "headersOrigin": "config",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_both/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_both/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_both/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_both",␊
      "siteInfo": {}␊
    }`

## Headers - file syntax error

> Snapshot 1

    `␊
    Warning: some headers have syntax errors:␊
    ␊
    Could not parse header line 3:␊
      test:␊
    Missing header value␊
    ␊
    Could not parse header line 4:␊
      : one␊
    Missing header name␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_file_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_file_error/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_file_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_file_error/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_file_error/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_file_error",␊
      "siteInfo": {}␊
    }`

## Headers - field syntax error

> Snapshot 1

    `␊
    Warning: some headers have syntax errors:␊
    ␊
    Could not parse header number 2:␊
      {"values":{"test":"one"}}␊
    Missing "for" field␊
    ␊
    Could not parse header number 3:␊
      {"for":"/external/path","values":{"test":false}}␊
    Header "test" value must be a string not: false␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_field_error",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_field_error",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "headersOrigin": "config",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_field_error/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_field_error/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_field_error/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_field_error",␊
      "siteInfo": {}␊
    }`

## Headers - no publish field

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_no_publish",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_no_publish",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_no_publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_no_publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_no_publish",␊
      "siteInfo": {}␊
    }`

## Headers - add headersOrigin

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/empty",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "headersOrigin": "ui",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/empty/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/empty/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Headers - log headersOrigin in debug mode

> Snapshot 1

    `␊
    > Initial build environment␊
    branch: branch␊
    env:␊
      - NETLIFY_AUTH_TOKEN␊
    featureFlags: []␊
    repositoryRoot: packages/config/tests/parse/fixtures/empty␊
    ␊
    > UI build settings␊
    baseRelDir: true␊
    ␊
    > Resolved build environment␊
    branch: branch␊
    buildDir: packages/config/tests/parse/fixtures/empty␊
    context: production␊
    env:␊
      - DEPLOY_ID␊
      - BUILD_ID␊
      - NETLIFY_LOCAL␊
      - HEAD␊
      - COMMIT_REF␊
      - CACHED_COMMIT_REF␊
      - PULL_REQUEST␊
      - LANG␊
      - LANGUAGE␊
      - LC_ALL␊
      - GATSBY_TELEMETRY_DISABLED␊
      - NEXT_TELEMETRY_DISABLED␊
    ␊
    > Resolved config␊
    build:␊
      publish: packages/config/tests/parse/fixtures/empty␊
      publishOrigin: default␊
    headersOrigin: ui␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/empty",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [],␊
        "headersOrigin": "ui",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/empty/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/empty/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Headers - does not use headers file when using inlineConfig with identical headers

> Snapshot 1

    `{␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_file",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_file/publish",␊
          "publishOrigin": "config",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "headersOrigin": "inline",␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "configPath": "packages/config/tests/parse/fixtures/headers_file/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_file/publish/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_file/publish/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_file",␊
      "siteInfo": {}␊
    }`

## Headers - duplicate case in same path

> Snapshot 1

    `␊
    Warning: the same header is set twice with different cases for "/external/path": "Test" and "test"␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_duplicate_case_same",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_duplicate_case_same",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "Test": "two",␊
              "test": "one"␊
            }␊
          }␊
        ],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_duplicate_case_same/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_duplicate_case_same/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_duplicate_case_same",␊
      "siteInfo": {}␊
    }`

## Headers - duplicate case in different paths

> Snapshot 1

    `␊
    Warning: the same header is set twice with different cases: "Test" and "test"␊
    ␊
    {␊
      "accounts": [],␊
      "addons": [],␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/parse/fixtures/headers_duplicate_case_different",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "processing": {␊
            "css": {},␊
            "html": {},␊
            "images": {},␊
            "js": {}␊
          },␊
          "publish": "packages/config/tests/parse/fixtures/headers_duplicate_case_different",␊
          "publishOrigin": "default",␊
          "services": {}␊
        },␊
        "functions": {␊
          "*": {}␊
        },␊
        "headers": [␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "test": "one"␊
            }␊
          },␊
          {␊
            "for": "/external/path",␊
            "values": {␊
              "Test": "two"␊
            }␊
          }␊
        ],␊
        "plugins": [],␊
        "redirects": []␊
      },␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "BUILD_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "DEPLOY_ID": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "0"␊
        },␊
        "DEPLOY_PRIME_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://branch--site-name.netlify.app"␊
        },␊
        "DEPLOY_URL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "https://0--site-name.netlify.app"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NETLIFY_LOCAL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "true"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "headersPath": "packages/config/tests/parse/fixtures/headers_duplicate_case_different/_headers",␊
      "redirectsPath": "packages/config/tests/parse/fixtures/headers_duplicate_case_different/_redirects",␊
      "repositoryRoot": "packages/config/tests/parse/fixtures/headers_duplicate_case_different",␊
      "siteInfo": {}␊
    }`
