# Snapshot report for `packages/config/tests/cli/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --help

> Snapshot 1

    `netlify-config [OPTIONS...]␊
    ␊
    Retrieve and resolve the Netlify configuration.␊
    The result is printed as a JSON object on stdout with the following properties:␊
      - config     {object}  Resolved configuration object␊
      - configPath {string?} Path to the configuration file (if any)␊
      - buildDir   {string}  Absolute path to the build directory␊
      - context    {string}  Build context␊
      - branch     {string}  Repository branch␊
    ␊
    Options:␊
      --help            Show help                                          [boolean]␊
      --version         Show version number                                [boolean]␊
      --config          Path to the configuration file.␊
                        Defaults to any netlify.toml in the git repository root␊
                        directory or the base directory                     [string]␊
      --cwd             Current directory. Used to retrieve the configuration file.␊
                        Default: current directory                          [string]␊
      --repositoryRoot  Git repository root directory. Used to retrieve the␊
                        configuration file.␊
                        Default: automatically guessed                      [string]␊
      --stable          Sort keys printed in the output.␊
                        Default: false                    [boolean] [default: false]␊
      --token           Netlify API token for authentication.␊
                        The NETLIFY_AUTH_TOKEN environment variable can be used as␊
                        well.                                               [string]␊
      --siteId          Netlify Site ID.                                    [string]␊
      --context         Build context.␊
                        Default: 'production'                               [string]␊
      --branch          Repository branch.␊
                        Default: automatically guessed                      [string]␊
      --offline         Do not send requests to the Netlify API to retrieve site␊
                        settings.␊
                        Default: false                                     [boolean]`

## --version

> Snapshot 1

    '1.0.0'

## CLI flags

> Snapshot 1

    `{␊
      "branch": "test",␊
      "buildDir": "packages/config/tests/cli/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "functions": {},␊
        "plugins": []␊
      },␊
      "configPath": "packages/config/tests/cli/fixtures/empty/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "test"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "test"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "repositoryRoot": "packages/config/tests/cli/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Does not stabilitize output without the --stable flag

> Snapshot 1

    `{␊
      "siteInfo": {},␊
      "env": {␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        }␊
      },␊
      "configPath": "packages/config/tests/cli/fixtures/empty/netlify.toml",␊
      "buildDir": "packages/config/tests/cli/fixtures/empty",␊
      "repositoryRoot": "packages/config/tests/cli/fixtures/empty",␊
      "config": {␊
        "functions": {},␊
        "plugins": [],␊
        "build": {␊
          "environment": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch",␊
      "logs": {␊
        "stdout": [],␊
        "stderr": []␊
      }␊
    }`

## Stabilitize output with the --stable flag

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/cli/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "functions": {},␊
        "plugins": []␊
      },␊
      "configPath": "packages/config/tests/cli/fixtures/empty/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "repositoryRoot": "packages/config/tests/cli/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## Success

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "packages/config/tests/cli/fixtures/empty",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "functions": {},␊
        "plugins": []␊
      },␊
      "configPath": "packages/config/tests/cli/fixtures/empty/netlify.toml",␊
      "context": "production",␊
      "env": {␊
        "BRANCH": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "CACHED_COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "COMMIT_REF": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "HEXADECIMAL_ID"␊
        },␊
        "CONTEXT": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "production"␊
        },␊
        "GATSBY_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "HEAD": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "branch"␊
        },␊
        "LANG": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "LANGUAGE": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US:en"␊
        },␊
        "LC_ALL": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "en_US.UTF-8"␊
        },␊
        "NEXT_TELEMETRY_DISABLED": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "1"␊
        },␊
        "PULL_REQUEST": {␊
          "sources": [␊
            "general"␊
          ],␊
          "value": "false"␊
        }␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "repositoryRoot": "packages/config/tests/cli/fixtures/empty",␊
      "siteInfo": {}␊
    }`

## User error

> Snapshot 1

    `When resolving config file packages/config/tests/cli/invalid:␊
    Configuration file does not exist`
