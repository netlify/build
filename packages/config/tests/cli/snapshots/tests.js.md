# Snapshot report for `packages/config/tests/cli/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --help

> Snapshot 1

    `netlify-config [OPTIONS...]␊
    ␊
    Retrieve and resolve the Netlify configuration.␊
    The result is printed as a JSON object on stdout with the following properties:␊
      - config     {object}  Resolved configuration object␊
      - configPath {string?} Path to the configuration file (if any)␊
      - buildDir   {string}  Absolute path to the build directory␊
      - context    {string}  Build context␊
      - branch     {string}  Repository branch␊
    ␊
    Options:␊
      --help            Show help                                          [boolean]␊
      --version         Show version number                                [boolean]␊
      --config          Path to the configuration file.␊
                        Defaults to any netlify.toml in the git repository root␊
                        directory or the base directory                     [string]␊
      --cwd             Current directory. Used to retrieve the configuration file.␊
                        Default: current directory                          [string]␊
      --repositoryRoot  Git repository root directory. Used to retrieve the␊
                        configuration file.␊
                        Default: automatically guessed                      [string]␊
      --stable          Sort keys printed in the output.␊
                        Default: false                    [boolean] [default: false]␊
      --token           Netlify API token for authentication.␊
                        The NETLIFY_AUTH_TOKEN environment variable can be used as␊
                        well.                                               [string]␊
      --siteId          Netlify Site ID.                                    [string]␊
      --context         Build context.␊
                        Default: 'production'                               [string]␊
      --branch          Repository branch.␊
                        Default: automatically guessed                      [string]␊
      --offline         Do not send requests to the Netlify API to retrieve site␊
                        settings.␊
                        Default: false                                     [boolean]`

## --version

> Snapshot 1

    '1.0.0'

## CLI flags

> Snapshot 1

    `{␊
      "branch": "test",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "test",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "test",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "test",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "test",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "siteInfo": {}␊
    }`

## Does not stabilitize output without the --stable flag

> Snapshot 1

    `{␊
      "siteInfo": {},␊
      "env": {␊
        "general": {␊
          "CONTEXT": "production",␊
          "BRANCH": "branch",␊
          "HEAD": "branch",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "PULL_REQUEST": "false",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "NEXT_TELEMETRY_DISABLED": "1"␊
        },␊
        "account": {},␊
        "addons": {},␊
        "ui": {},␊
        "configFile": {},␊
        "all": {␊
          "CONTEXT": "production",␊
          "BRANCH": "branch",␊
          "HEAD": "branch",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "PULL_REQUEST": "false",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "NEXT_TELEMETRY_DISABLED": "1"␊
        }␊
      },␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch",␊
      "logs": {␊
        "stdout": [],␊
        "stderr": []␊
      }␊
    }`

## Stabilitize output with the --stable flag

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "siteInfo": {}␊
    }`

## Success

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "siteInfo": {}␊
    }`

## User error

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration file does not exist`
