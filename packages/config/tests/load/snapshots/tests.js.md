# Snapshot report for `packages/config/tests/load/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --cachedConfig

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --cachedConfig with a siteId

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {␊
        "id": "test"␊
      }␊
    }`

## --cachedConfig with a token

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "hasApi": true,␊
      "siteInfo": {},␊
      "token": "test"␊
    }`

## --cachedConfig with an invalid path

> Snapshot 1

    `When resolving cached configuration␊
    Unexpected token { in JSON at position 1`

## --config with a relative path

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --config with an absolute path

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --config with an invalid relative path

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration file does not exist`

## --defaultConfig merge

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --defaultConfig merges UI plugins with config plugins

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": true,␊
              "testTwo": true␊
            },␊
            "origin": "config",␊
            "package": "one"␊
          },␊
          {␊
            "inputs": {},␊
            "origin": "config",␊
            "package": "two"␊
          }␊
        ]␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --defaultConfig priority

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --defaultConfig with an invalid relative path

> Snapshot 1

    `When resolving default configuration␊
    Unexpected token { in JSON at position 1`

## --inlineConfig CLI flag

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "siteInfo": {}␊
    }`

## --inlineConfig can override the "base"

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --inlineConfig falsy values are ignored

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandTest",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --inlineConfig is merged

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo command",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## --inlineConfig is merged with priority

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo commandInline",␊
          "commandOrigin": "config",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## Empty configuration

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## No --config but none found

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "context": "production",␊
      "siteInfo": {}␊
    }`
