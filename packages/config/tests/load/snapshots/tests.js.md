# Snapshot report for `packages/config/tests/load/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --cachedConfig

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {␊
            "onBuild": [␊
              "echo onBuild"␊
            ]␊
          }␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## --cachedConfig with an invalid path

> Snapshot 1

    `When resolving cached configuration␊
    Unexpected token { in JSON at position 1`

## --config with a relative path

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## --config with an absolute path

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## --config with an invalid relative path

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration file does not exist`

## --defaultConfig merge

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {␊
            "onInit": [␊
              "echo onInit"␊
            ],␊
            "onBuild": [␊
              "echo onBuild"␊
            ]␊
          }␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## --defaultConfig priority

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {␊
            "onBuild": [␊
              "echo onBuildTest"␊
            ]␊
          }␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## --defaultConfig with an invalid relative path

> Snapshot 1

    `When resolving default configuration␊
    Unexpected token { in JSON at position 1`

## Can define configuration as environment variables

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "publish": "/file/path",␊
          "lifecycle": {␊
            "onBuild": [␊
              "echo onBuild"␊
            ],␊
            "onInstall": [␊
              "echo onInstall"␊
            ]␊
          }␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## Empty configuration

> Snapshot 1

    `{␊
      "configPath": "/file/path",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## No --config but none found

> Snapshot 1

    `{␊
      "buildDir": "/file/path",␊
      "config": {␊
        "plugins": [],␊
        "build": {␊
          "environment": {},␊
          "lifecycle": {}␊
        }␊
      },␊
      "context": "production",␊
      "branch": "branch"␊
    }`

## Several configuration files

> Snapshot 1

    `Should use only one configuration file (among netlify.yml, netlify.yaml) in:␊
    /file/path`
