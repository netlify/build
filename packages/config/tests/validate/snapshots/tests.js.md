# Snapshot report for `packages/config/tests/validate/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## build.base: parent directory

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.base must be inside the root directory.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      base = "/file/path"␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      base = "base_dir"`

## build.base: string

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.base must be a string.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      base = true␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      base = "packages/project"`

## build.command: array

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.command must be a string␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      command = [␊
        true␊
      ]␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      command = "npm run build"`

## build.command: string

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.command must be a string␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      command = true␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      command = "npm run build"`

## build.context.CONTEXT: object

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property context.production must be a plain object.␊
    ␊
    Invalid syntax␊
    ␊
      [context]␊
      production = false␊
    ␊
    Valid syntax␊
    ␊
      [context]␊
    ␊
        [context.production]␊
        publish = "dist"`

## build.context: nested property

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property context.development.command must be a string␊
    ␊
    Invalid syntax␊
    ␊
      [context]␊
    ␊
        [context.development]␊
        command = true␊
    ␊
    Valid syntax␊
    ␊
      [context]␊
    ␊
        [context.development]␊
        command = "npm run build"`

## build.context: object

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property context must be a plain object.␊
    ␊
    Invalid syntax␊
    ␊
      context = false␊
    ␊
    Valid syntax␊
    ␊
      [context]␊
    ␊
        [context.production]␊
        publish = "dist"`

## build.context: property

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property context.development.base must be a string.␊
    ␊
    Invalid syntax␊
    ␊
      [context]␊
    ␊
        [context.development]␊
        base = true␊
    ␊
    Valid syntax␊
    ␊
      [context]␊
    ␊
        [context.development]␊
        base = "packages/project"`

## build.functions: parent directory

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.functions must be inside the root directory.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      functions = "/file/path"␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      functions = "functions_dir"`

## build.functions: string

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.functions must be a string.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      functions = true␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      functions = "functions"`

## build.lifecycle: deprecated

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "command": "echo onInit && echo init && echo preBuild && echo onBuild && echo onbuild && echo functionsPackage && echo finally",␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }␊
    ␊
    Configuration property build.lifecycle has been removed. Please use build.command instead.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
    ␊
        [build.lifecycle]␊
        finally = "echo finally"␊
        functionsPackage = "echo functionsPackage"␊
        preBuild = "echo preBuild"␊
        init = "echo init"␊
        onBuild = "echo onBuild"␊
        onbuild = "echo onbuild"␊
        onInit = "echo onInit"␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      command = "echo onInit && echo init && echo preBuild && echo onBuild && echo onbuild && echo functionsPackage && echo finally"␊
    `

## build.publish: parent directory

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.publish must be inside the root directory.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      publish = "/file/path"␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      publish = "publish_dir"`

## build.publish: string

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build.publish must be a string.␊
    ␊
    Invalid syntax␊
    ␊
      [build]␊
      publish = true␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      publish = "dist"`

## build: object

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property build must be a plain object.␊
    ␊
    Invalid syntax␊
    ␊
      build = true␊
    ␊
    Valid syntax␊
    ␊
      [build]␊
      command = "npm run build"`

## plugins.any.config: renamed

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": "test"␊
            },␊
            "origin": "config",␊
            "package": "/file/path"␊
          }␊
        ]␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }␊
    ␊
    Configuration property plugins[0].config has been renamed to "inputs".␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
    ␊
        [plugins.config]␊
        test = "test"␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
    ␊
        [plugins.inputs]␊
        test = "test"␊
    `

## plugins.any.id backward compatibility

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": [␊
          {␊
            "id": "test",␊
            "origin": "config",␊
            "package": "test"␊
          }␊
        ]␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "siteInfo": {}␊
    }`

## plugins.any.inputs: object

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins[0].inputs must be a plain object.␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
      inputs = true␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"␊
    ␊
        [plugins.inputs]␊
        port = 80.0`

## plugins.any.package: required

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins[0] "package" property is required.␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"`

## plugins.any.package: string

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins[0].package must be a string.␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
      package = true␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"`

## plugins.any.type renamed

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins[0].type has been renamed to "package".␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
      type = "/file/path"␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "/file/path"`

## plugins.any: unknown property

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins[0] has unknown properties. Valid properties are:␊
      - package␊
      - inputs␊
    ␊
    Invalid syntax␊
    ␊
      [[plugins]]␊
      test = true␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"␊
    ␊
        [plugins.inputs]␊
        port = 80.0`

## plugins: not array

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins must be an array of objects.␊
    ␊
    Invalid syntax␊
    ␊
      [plugins]␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-two"`

## plugins: not array of objects

> Snapshot 1

    `When resolving config file /file/path␊
    Configuration property plugins must be an array of objects.␊
    ␊
    Invalid syntax␊
    ␊
      plugins = [␊
        true␊
      ]␊
    ␊
    Valid syntax␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-one"␊
    ␊
      [[plugins]]␊
      package = "netlify-plugin-two"`
