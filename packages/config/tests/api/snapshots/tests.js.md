# Snapshot report for `packages/config/tests/api/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --site-id

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {␊
        "id": "test"␊
      }␊
    }`

## --token

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {},␊
      "token": "test"␊
    }`

## --token in CLI

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "logs": {␊
        "stderr": [],␊
        "stdout": []␊
      },␊
      "siteInfo": {}␊
    }`

## Build settings are not used in CI

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {},␊
        "configFile": {},␊
        "general": {},␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "id": "test"␊
      },␊
      "token": "test"␊
    }`

## Build settings are not used without a siteId

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {},␊
      "token": "test"␊
    }`

## Build settings are not used without a token

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {␊
        "id": "test"␊
      }␊
    }`

## Build settings can be null

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "build_settings": {␊
          "base": null,␊
          "base_rel_dir": null,␊
          "cmd": null,␊
          "dir": null,␊
          "env": null,␊
          "functions_dir": null␊
        },␊
        "id": "test",␊
        "url": "test"␊
      },␊
      "token": "test"␊
    }`

## Build settings have low merging priority

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "command": "fixtureCommand",␊
          "commandOrigin": "config",␊
          "environment": {␊
            "TEST_ENV": "fixture"␊
          },␊
          "functions": "/file/path",␊
          "publish": "/file/path"␊
        },␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": true␊
            },␊
            "origin": "ui",␊
            "package": "netlify-plugin-test"␊
          }␊
        ]␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "TEST_ENV": "fixture",␊
          "URL": "test"␊
        },␊
        "configFile": {␊
          "TEST_ENV": "fixture"␊
        },␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "ui": {␊
          "TEST_ENV": "test"␊
        }␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "build_settings": {␊
          "base": "base",␊
          "base_rel_dir": false,␊
          "cmd": "testCommand",␊
          "dir": "testPublish",␊
          "env": {␊
            "TEST_ENV": "test"␊
          },␊
          "functions_dir": "testFunctions"␊
        },␊
        "id": "test",␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": true␊
            },␊
            "package": "netlify-plugin-test",␊
            "version": "1.0.0"␊
          }␊
        ],␊
        "url": "test"␊
      },␊
      "token": "test"␊
    }`

## Environment variable siteInfo API error

> Snapshot 1

    'Failed retrieving site data for site test: Bad Request. Double-check your login status with \'netlify status\' or contact support with details of your error.'

## Environment variable siteInfo CI

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {},␊
        "configFile": {},␊
        "general": {},␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "id": "test"␊
      },␊
      "token": "test"␊
    }`

## Environment variable siteInfo no siteId

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {},␊
      "token": "test"␊
    }`

## Environment variable siteInfo no token

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {␊
        "id": "test"␊
      }␊
    }`

## Environment variable siteInfo offline

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {␊
        "id": "test"␊
      },␊
      "token": "test"␊
    }`

## Environment variable siteInfo success

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "REPOSITORY_URL": "test",␊
          "URL": "test"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "REPOSITORY_URL": "test",␊
          "URL": "test"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "build_settings": {␊
          "repo_url": "test"␊
        },␊
        "id": "test",␊
        "url": "test"␊
      },␊
      "token": "test"␊
    }`

## NETLIFY_AUTH_TOKEN environment variable

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {},␊
      "token": "test"␊
    }`

## NETLIFY_SITE_ID environment variable

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "environment": {}␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false"␊
        },␊
        "ui": {}␊
      },␊
      "siteInfo": {␊
        "id": "test"␊
      }␊
    }`

## Use build settings if a siteId and token are provided

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "command": "testCommand",␊
          "commandOrigin": "ui",␊
          "environment": {},␊
          "functions": "/file/path",␊
          "publish": "/file/path"␊
        },␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": true␊
            },␊
            "origin": "ui",␊
            "package": "netlify-plugin-test"␊
          }␊
        ]␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "TEST_ENV": "test",␊
          "URL": "test"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "ui": {␊
          "TEST_ENV": "test"␊
        }␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "build_settings": {␊
          "base": "base",␊
          "base_rel_dir": false,␊
          "cmd": "testCommand",␊
          "dir": "testPublish",␊
          "env": {␊
            "TEST_ENV": "test"␊
          },␊
          "functions_dir": "testFunctions"␊
        },␊
        "id": "test",␊
        "plugins": [␊
          {␊
            "inputs": {␊
              "test": true␊
            },␊
            "package": "netlify-plugin-test",␊
            "version": "1.0.0"␊
          }␊
        ],␊
        "url": "test"␊
      },␊
      "token": "test"␊
    }`

## baseRelDir is true if build.base is overridden

> Snapshot 1

    `{␊
      "branch": "branch",␊
      "buildDir": "/file/path",␊
      "config": {␊
        "build": {␊
          "base": "/file/path",␊
          "environment": {},␊
          "publish": "/file/path"␊
        },␊
        "plugins": []␊
      },␊
      "configPath": "/file/path",␊
      "context": "production",␊
      "env": {␊
        "account": {},␊
        "addons": {},␊
        "all": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "configFile": {},␊
        "general": {␊
          "BRANCH": "branch",␊
          "CACHED_COMMIT_REF": "HEXADECIMAL_ID",␊
          "COMMIT_REF": "HEXADECIMAL_ID",␊
          "CONTEXT": "production",␊
          "GATSBY_TELEMETRY_DISABLED": "1",␊
          "HEAD": "branch",␊
          "LANG": "en_US.UTF-8",␊
          "LANGUAGE": "en_US:en",␊
          "LC_ALL": "en_US.UTF-8",␊
          "NEXT_TELEMETRY_DISABLED": "1",␊
          "PULL_REQUEST": "false",␊
          "URL": "test"␊
        },␊
        "ui": {}␊
      },␊
      "hasApi": true,␊
      "siteInfo": {␊
        "build_settings": {␊
          "base_rel_dir": false␊
        },␊
        "id": "test",␊
        "url": "test"␊
      },␊
      "token": "test"␊
    }`
