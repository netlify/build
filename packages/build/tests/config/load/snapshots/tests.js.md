# Snapshot report for `packages/build/tests/config/load/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --cachedConfig

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 4 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 4. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --cachedConfig with an invalid path

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      {}␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Configuration error     │␊
    └─────────────────────────────┘␊
    ␊
    > Error message␊
      When resolving cached configuration␊
      Unexpected token { in JSON at position 1␊
    ␊
    ┌─────────────────────────────┐␊
    │   END Configuration error   │␊
    └─────────────────────────────┘␊
    `

## --config with a relative path

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      config: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 3 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with an absolute path

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      config: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 3 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with an invalid relative path

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      config: /file/path␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Configuration error     │␊
    └─────────────────────────────┘␊
    ␊
    > Error message␊
      When resolving config file /file/path␊
      Configuration file does not exist␊
    ␊
    ┌─────────────────────────────┐␊
    │   END Configuration error   │␊
    └─────────────────────────────┘␊
    `

## --defaultConfig merge

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      defaultConfig: /file/path␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 5 commands. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build.lifecycle.onInit command from netlify.yml config file │␊
    └────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onInit"␊
    onInit␊
    ␊
     √  build.lifecycle.onInit completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 3. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 4. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 5. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --defaultConfig priority

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      defaultConfig: /file/path␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 4 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuildTest"␊
    onBuildTest␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 4. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --defaultConfig with an invalid relative path

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      defaultConfig: /file/path␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Configuration error     │␊
    └─────────────────────────────┘␊
    ␊
    > Error message␊
      When resolving default configuration /file/path␊
      Configuration file does not exist␊
    ␊
    ┌─────────────────────────────┐␊
    │   END Configuration error   │␊
    └─────────────────────────────┘␊
    `

## Can define configuration as environment variables

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 5 commands. Lets do this!␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build.lifecycle.onInstall command from netlify.yml config file │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onInstall"␊
    onInstall␊
    ␊
     √  build.lifecycle.onInstall completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 3. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 4. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 5. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Empty configuration

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 3 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## No --config but none found

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      {}␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > No config file was defined: using default values.␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 3 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `
