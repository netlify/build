# Snapshot report for `packages/build/tests/manifest/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## manifest.yaml is a valid filename

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/manifest_yaml␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/manifest_yaml␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/manifest_yaml/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/manifest_yaml␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    > Loading plugins␊
       - ./plugin.js@1.0.0 from netlify.toml␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## manifest.yml advanced YAML

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/advanced_yaml␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/advanced_yaml␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/advanced_yaml/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/advanced_yaml␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Could not parse plugin's "manifest.yml"␊
      unknown tag !<tag:yaml.org,2002:js/undefined> (2:1)␊
    ␊
       1 | name: !!js/undefined␊
       2 | ␊
      -----^␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/advanced_yaml␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml check default value

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/default␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/default␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/default/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/default␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    > Loading plugins␊
       - ./plugin.js@1.0.0 from netlify.toml␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. onPreBuild command from ./plugin.js                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    defaultTest␊
    ␊
    (./plugin.js onPreBuild completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## manifest.yml check required inputs

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/required␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/required␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/required/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/required␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" invalid input "test"                     ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Required inputs for plugin "./plugin.js": test, testTwo␊
    ␊
      Plugin inputs␊
      {}␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/required␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml check unknown property when plugin has none

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/unknown_none␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/unknown_none␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/unknown_none/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/unknown_none␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs:␊
            test: true␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" invalid input "test"                     ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Plugin "./plugin.js" does not accept any inputs but you specified: "test"␊
      Check your plugin configuration to be sure that:␊
        - the input name is spelled correctly␊
        - the input is included in the plugin's available configuration options␊
        - the plugin's input requirements have not changed␊
    ␊
      Plugin inputs␊
      test: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/unknown_none␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs:␊
            test: true␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml check unknown property when plugin has some

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/unknown_some␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/unknown_some␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/unknown_some/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/unknown_some␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs:␊
            test: true␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" invalid input "test"                     ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Unknown inputs for plugin "./plugin.js": "test"␊
      Plugin inputs should be one of: "one", "two"␊
      Check your plugin configuration to be sure that:␊
        - the input name is spelled correctly␊
        - the input is included in the plugin's available configuration options␊
        - the plugin's input requirements have not changed␊
    ␊
      Plugin inputs␊
      test: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/unknown_some␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs:␊
            test: true␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs array

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_array␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_array␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_array/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_array␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" "inputs" property must be an array of objects␊
    ␊
      manifest.yml␊
      name: test␊
      inputs: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_array␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs array of objects

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_array_objects␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_array_objects␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_array_objects/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_array_objects␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" "inputs" property must be an array of objects␊
    ␊
      manifest.yml␊
      name: test␊
      inputs: [true]␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_array_objects␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs description is a string

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_description_string␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_description_string␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_description_string/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_description_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      TypeError: Plugin's "manifest.yml" "inputs" property is invalid.␊
      Input at position 0 "description" property must be a string.␊
    ␊
      manifest.yml␊
      name: test␊
      inputs:␊
        - name: name␊
          description: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_description_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs name is string

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_name_string␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_name_string␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_name_string/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_name_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      TypeError: Plugin's "manifest.yml" "inputs" property is invalid.␊
      Input at position 0 "name" property must be a string.␊
    ␊
      manifest.yml␊
      name: test␊
      inputs:␊
        - name: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_name_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs name is undefined

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_name_undefined␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_name_undefined␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_name_undefined/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_name_undefined␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" "inputs" property is invalid.␊
      Input at position 0 must contain a "name" property.␊
    ␊
      manifest.yml␊
      name: test␊
      inputs:␊
        - {}␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_name_undefined␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs required is a boolean

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_required_boolean␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_required_boolean␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_required_boolean/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_required_boolean␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" "inputs" property is invalid.␊
      Input at position 0 "required" property must be a boolean.␊
    ␊
      manifest.yml␊
      name: test␊
      inputs:␊
        - name: test␊
          required: test␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_required_boolean␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml inputs unknown property

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/inputs_unknown␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/inputs_unknown␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/inputs_unknown/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_unknown␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" "inputs" property is invalid.␊
      Input at position 0 has an unknown property "unknown".␊
    ␊
      manifest.yml␊
      name: test␊
      inputs:␊
        - name: test␊
          unknown: test␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/inputs_unknown␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml missing

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/missing␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/missing␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/missing/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/missing␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Configuration error                                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      The plugin "./plugin.js" is missing a "manifest.yml".␊
      This might mean:␊
        - The plugin "package" name is misspelled␊
        - The plugin "package" points to a Node module that is not a Netlify Build plugin␊
        - If you're developing a plugin, please see the documentation at https://docs.netlify.com/configure-builds/build-plugins/create-plugins/#anatomy-of-a-plugin␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/missing␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml name is a string

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/name_string␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/name_string␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/name_string/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/name_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      TypeError: Plugin's "manifest.yml" "name" property must be a string␊
    ␊
      manifest.yml␊
      name: true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/name_string␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml name undefined

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/name_undefined␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/name_undefined␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/name_undefined/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/name_undefined␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" must contain a "name" property␊
    ␊
      manifest.yml␊
      inputs: []␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/name_undefined␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml node module

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/module␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/module␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/module/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/module␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: netlify-plugin-test␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "netlify-plugin-test" internal error                   ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" must be a plain object␊
    ␊
      manifest.yml␊
      true␊
    ␊
      Plugin details␊
      Package:        netlify-plugin-test␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/test/test.git␊
      npm link:       https://www.npmjs.com/package/netlify-plugin-test␊
      Report issues:  https://test.com/test␊
    ␊
      Error location␊
      While loading "netlify-plugin-test" from netlify.toml and package.json␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/module␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: netlify-plugin-test`

## manifest.yml not root directory

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/not_root_directory␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/not_root_directory␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/not_root_directory/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/not_root_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin/main.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Configuration error                                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      The plugin "./plugin/main.js" is missing a "manifest.yml".␊
      This might mean:␊
        - The plugin "package" name is misspelled␊
        - The plugin "package" points to a Node module that is not a Netlify Build plugin␊
        - If you're developing a plugin, please see the documentation at https://docs.netlify.com/configure-builds/build-plugins/create-plugins/#anatomy-of-a-plugin␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/not_root_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin/main.js`

## manifest.yml parse error

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/parse_error␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/parse_error␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/parse_error/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/parse_error␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Could not parse plugin's "manifest.yml"␊
      unknown tag !<tag:yaml.org,2002:build> (2:1)␊
    ␊
       1 | !!build␊
       2 | ␊
      -----^␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/parse_error␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml plain object

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/plain_object␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/plain_object␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/plain_object/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/plain_object␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" must be a plain object␊
    ␊
      manifest.yml␊
      true␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/plain_object␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml root directory

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/root_directory␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/root_directory␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/root_directory/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/root_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin/main.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin/main.js" invalid input "one"                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Plugin "./plugin/main.js" does not accept any inputs but you specified: "one"␊
      Check your plugin configuration to be sure that:␊
        - the input name is spelled correctly␊
        - the input is included in the plugin's available configuration options␊
        - the plugin's input requirements have not changed␊
    ␊
      Plugin inputs␊
      one: test␊
    ␊
      Plugin details␊
      Package:        ./plugin/main.js␊
    ␊
      Error location␊
      While loading "./plugin/main.js" from netlify.toml␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/root_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin/main.js`

## manifest.yml same directory

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/same_directory␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/same_directory␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/same_directory/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/same_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" invalid input "one"                      ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Plugin "./plugin.js" does not accept any inputs but you specified: "one"␊
      Check your plugin configuration to be sure that:␊
        - the input name is spelled correctly␊
        - the input is included in the plugin's available configuration options␊
        - the plugin's input requirements have not changed␊
    ␊
      Plugin inputs␊
      one: test␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/same_directory␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`

## manifest.yml unknown properties

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      featureFlags:␊
        - buildbot_build_plugins_system_node_version␊
      repositoryRoot: packages/build/tests/manifest/fixtures/manifest_unknown␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/manifest/fixtures/manifest_unknown␊
    ␊
    > Config file␊
      packages/build/tests/manifest/fixtures/manifest_unknown/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/manifest_unknown␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Plugin "./plugin.js" internal error                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Error: Plugin's "manifest.yml" unknown property "unknown"␊
    ␊
      manifest.yml␊
      name: test␊
      unknown: test␊
    ␊
      Plugin details␊
      Package:        ./plugin.js␊
      Version:        1.0.0␊
      Repository:     git+https://github.com/netlify/build.git␊
      Report issues:  https://github.com/netlify/build/issues␊
    ␊
      Error location␊
      While loading "./plugin.js" from netlify.toml␊
    STACK TRACE␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/manifest/fixtures/manifest_unknown␊
        publishOrigin: default␊
      functions:␊
        '*': {}␊
      plugins:␊
        - inputs: {}␊
          origin: config␊
          package: ./plugin.js`
