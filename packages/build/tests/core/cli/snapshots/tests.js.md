# Snapshot report for `packages/build/tests/core/cli/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --features

> Snapshot 1

    '_cachesave_'

## --help

> Snapshot 1

    `netlify-build [OPTIONS...]␊
    ␊
    Run Netlify Build system locally.␊
    ␊
    Options can also be specified as environment variables prefixed with␊
    NETLIFY_BUILD_. For example the environment variable NETLIFY_BUILD_DRY=true can␊
    be used instead of the CLI flag --dry.␊
    ␊
    Options:␊
      --help            Show help                                          [boolean]␊
      --version         Show version number                                [boolean]␊
      --config          Path to the configuration file.␊
                        Defaults to any netlify.yml, netlify.toml, netlify.json or␊
                        netlify.js file in␊
                        the current directory or any parent directory       [string]␊
      --cwd             Current directory. Used to retrieve the configuration file.␊
                        Default: current directory                          [string]␊
      --repositoryRoot  Git repository root directory. Used to retrieve the␊
                        configuration file.␊
                        Default: automatically guessed                      [string]␊
      --token           Netlify API token for authentication.␊
                        The NETLIFY_AUTH_TOKEN environment variable can be used as␊
                        well.                                               [string]␊
      --siteId          Netlify Site ID.                                    [string]␊
      --context         Build context.␊
                        Default: 'production'                               [string]␊
      --dry, --dry-run  Run in dry mode, i.e. printing commands without␊
                        executing them.␊
                        Default: false                                     [boolean]␊
      --nodePath        Path to the Node.js binary to use in user commands and build␊
                        plugins.␊
                        Default: Current Node.js binary                     [string]␊
      --features        Print currently enabled feature flags.␊
                        Default: false                                     [boolean]`

## --version

> Snapshot 1

    '1.0.0'

## Exit code is 0 on success

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
    { config: '/file/path' }␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Loading plugins␊
       - @netlify/plugin-functions-core from build core␊
       - @netlify/plugin-cache-core from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 3 commands. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall command from @netlify/plugin-functions-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onInstall completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onFunctionsPackage command from @netlify/plugin-functions-core │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    ␊
     √  @netlify/plugin-functions-core.onFunctionsPackage completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Exit code is 1 on error

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
    { config: '/file/path' }␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Configuration error     │␊
    └─────────────────────────────┘␊
    ␊
    > Error message␊
      Configuration file does not exist: /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │   END Configuration error   │␊
    └─────────────────────────────┘␊
    `
