# Snapshot report for `tests/functions/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://avajs.dev).

## Functions: missing source directory

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/missing␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/missing␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/missing/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/missing␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/missing/missing␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    The Netlify Functions setting targets a non-existing directory: missing␊
    ␊
    (Functions bundling completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## Functions: must not be a regular file

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/regular_file␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/regular_file␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/regular_file/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/regular_file␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/regular_file/functions/test.js␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Configuration error                                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      The Netlify Functions setting should target a directory, not a regular file: functions/test.js␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/regular_file␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/regular_file/functions/test.js`

## Functions: can be a symbolic link

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/symlink␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/symlink␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/symlink/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/symlink␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/symlink/functions-link␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    Packaging Functions from functions-link directory:␊
     - test.js␊
    ␊
    ␊
    (Functions bundling completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## Functions: default directory

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/default␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/default␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/default/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/default␊
        publishOrigin: default␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## Functions: simple setup

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/simple␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/simple␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/simple/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/simple␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/simple/functions␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    Packaging Functions from functions directory:␊
     - test.js␊
    ␊
    ␊
    (Functions bundling completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## Functions: no functions

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/none␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/none␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/none/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/none␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/none/functions␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    No Functions were found in functions directory␊
    ␊
    (Functions bundling completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`

## Functions: invalid package.json

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      repositoryRoot: packages/build/tests/functions/fixtures/functions_package_json_invalid␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/functions_package_json_invalid␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/functions_package_json_invalid/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/functions_package_json_invalid␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/functions_package_json_invalid/functions␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    Packaging Functions from functions directory:␊
     - test.js␊
    ␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Configuration error                                           ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
      Error message␊
      Unexpected token { in JSON at position 1␊
    ␊
      Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/functions_package_json_invalid␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/functions_package_json_invalid/functions`

## Functions: --functionsDistDir

> Snapshot 1

    `␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build                                                 ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    > Version␊
      @netlify/build 1.0.0␊
    ␊
    > Flags␊
      debug: true␊
      functionsDistDir: /tmp-dir␊
      mode: buildbot␊
      repositoryRoot: packages/build/tests/functions/fixtures/simple␊
      testOpts:␊
        pluginsListUrl: test␊
        silentLingeringProcesses: true␊
    ␊
    > Current directory␊
      packages/build/tests/functions/fixtures/simple␊
    ␊
    > Config file␊
      packages/build/tests/functions/fixtures/simple/netlify.toml␊
    ␊
    > Resolved config␊
      build:␊
        publish: packages/build/tests/functions/fixtures/simple␊
        publishOrigin: default␊
      functionsDirectory: packages/build/tests/functions/fixtures/simple/functions␊
    ␊
    > Context␊
      production␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      1. Functions bundling                                         ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    Packaging Functions from functions directory:␊
     - test.js␊
    ␊
    ␊
    (Functions bundling completed in 1ms)␊
    ␊
    ────────────────────────────────────────────────────────────────␊
      Netlify Build Complete                                        ␊
    ────────────────────────────────────────────────────────────────␊
    ␊
    (Netlify Build completed in 1ms)`
