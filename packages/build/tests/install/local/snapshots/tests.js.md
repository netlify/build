# Snapshot report for `packages/build/tests/plugins/install/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## Install local plugin dependencies: already installed

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: no package.json

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Loading plugins␊
    ␊
    ┌──────────────────────────────────────────┐␊
    │ Plugin "/file/path" internal error │␊
    └──────────────────────────────────────────┘␊
    ␊
    > Error message␊
      Error: Could not import plugin:␊
      Cannot find module 'math-avg'␊
    ␊
    > Error location␊
      While loading local plugin "/file/path"␊
    STACK TRACE␊
    ␊
    > Error properties␊
      { code: 'MODULE_NOT_FOUND' }␊
    `

## Install local plugin dependencies: no root package.json

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    test␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: propagate errors

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Dependencies error      │␊
    └─────────────────────────────┘␊
    ␊
    > Error message␊
      Error while installing dependencies in /file/path␊
      npm ERR! code E404␊
    ␊
    ␊
      npm ERR! A complete log of this run can be found in:␊
      npm ERR!     /file/path␊
    `

## Install local plugin dependencies: with npm in CI with lock file

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: with npm in CI with no lock file

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: with npm locally with lock file

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: with yarn in CI with lock file

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## Install local plugin dependencies: with yarn locally with lock file

> Snapshot 1

    `␊
    > Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Flags␊
      repositoryRoot: /file/path␊
    ␊
    > Current directory␊
      /file/path␊
    ␊
    > Config file␊
      /file/path␊
    ␊
    > Resolved config␊
      plugins:␊
        - package: /file/path␊
    ␊
    > Context␊
      production␊
    ␊
    > Installing local plugins dependencies␊
       - /file/path␊
    ␊
    > Loading plugins␊
       - /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────┐␊
    │ 1. Running onInit command from /file/path │␊
    └─────────────────────────────────────────────────┘␊
    ␊
    1.5␊
    ␊
     √  /file/path onInit completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `
